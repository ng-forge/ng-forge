@use 'tokens' as *;
@use 'themes' as *;

// ============================================
// SHARED EXAMPLE APP STYLES
// ============================================
// Common styles used across all example apps
// (Material, Bootstrap, Ionic, PrimeNG)

// ============================================
// BASE STYLES MIXIN
// ============================================
@mixin example-base {
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  // Ensure root element is block-level for proper height measurement
  example-root {
    display: block;
  }

  html,
  body {
    // Use auto height for iframe embedding - content determines height
    height: auto;
    // Hide overflow to prevent scrollbars in iframe - parent controls scrolling
    overflow: hidden;
  }
}

// ============================================
// THEME VARIABLES MIXIN
// ============================================
// Sets up CSS custom properties for example result components
@mixin example-theme-variables {
  :root {
    // Light mode defaults (ng-doc light mode colors)
    --example-result-bg: #ebebeb;
    --example-result-border: #ddd;
    --example-result-text: rgb(78, 78, 78);
  }

  // Auto mode - use system preference when no data-theme is set
  @media (prefers-color-scheme: dark) {
    html:not([data-theme]),
    :root:not([data-theme]) {
      // ng-doc dark mode colors
      --example-result-bg: rgb(48, 48, 48);
      --example-result-border: rgb(71, 71, 71);
      --example-result-text: #a9a9a9;
    }
  }

  // Explicit dark theme
  html[data-theme='dark'],
  :root[data-theme='dark'] {
    // ng-doc dark mode colors
    --example-result-bg: rgb(48, 48, 48);
    --example-result-border: rgb(71, 71, 71);
    --example-result-text: #a9a9a9;
  }

  // Landing page theme - matches docs landing page colors
  html[data-theme='landing'],
  :root[data-theme='landing'] {
    --example-result-bg: #{$bg-surface};
    --example-result-border: #{$steel-dark};
    --example-result-text: #{$steel};
  }
}

// ============================================
// COMPONENT STYLES MIXIN
// ============================================
@mixin example-components {
  // Example demo container
  .example-container {
    display: block;
    max-width: 600px;
    margin: 0 auto;
    padding: $space-6;
  }

  // Example result display
  .example-result {
    margin-top: $space-6;
    padding: $space-4;
    background: var(--example-result-bg);
    border: 1px solid var(--example-result-border);
    border-radius: $radius-md;

    h4 {
      margin-top: 0;
      margin-bottom: $space-3;
      color: var(--example-result-text);
    }

    pre {
      margin: 0;
      white-space: pre-wrap;
      word-wrap: break-word;
      color: var(--example-result-text);
    }
  }
}

// ============================================
// BODY THEME STYLES
// ============================================
// Standard body theming for example apps
@mixin example-body-light {
  // ng-doc light mode colors
  background-color: #f6f6f6;
  color: rgb(78, 78, 78);
}

@mixin example-body-dark {
  // ng-doc dark mode colors
  background-color: rgb(41, 41, 41);
  color: #a9a9a9;
}

@mixin example-body-landing {
  // Matches landing page colors
  background-color: $bg-deep;
  color: $steel;
}

// ============================================
// COMPLETE EXAMPLE THEME MIXIN
// ============================================
// Applies full theme setup for body element
@mixin example-body-themes {
  html,
  body {
    @include example-body-light;
  }

  // Auto mode - use system preference when no data-theme is set
  @media (prefers-color-scheme: dark) {
    html:not([data-theme]),
    html:not([data-theme]) body {
      @include example-body-dark;
    }
  }

  // Explicit dark theme
  html[data-theme='dark'],
  html[data-theme='dark'] body {
    @include example-body-dark;
  }

  // Landing page theme
  html[data-theme='landing'],
  html[data-theme='landing'] body {
    @include example-body-landing;
  }
}
