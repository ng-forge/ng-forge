// ============================================
// PRIMENG EXAMPLE APP STYLES
// ============================================
// Uses ng-forge styling library with ember preset
// PrimeNG theme is configured via providePrimeNG in app.config.ts

@use 'index' as *;
@use 'examples' as examples;
@import 'primeicons/primeicons.css';

// ============================================
// EXAMPLE APP STYLES
// ============================================

@include examples.example-base();
@include examples.example-theme-variables();
@include examples.example-body-themes();
@include examples.example-components();

// ============================================
// THEME APPLICATION
// ============================================

// Light theme (default)
:root {
  @include apply-theme($theme-light);
}

// Auto mode - use system preference when no data-theme is set
@media (prefers-color-scheme: dark) {
  html:not([data-theme]),
  :root:not([data-theme]) {
    @include apply-theme($theme-dark);
  }
}

// Explicit light theme (same as default, for when data-theme='light' is set)
html[data-theme='light'],
:root[data-theme='light'] {
  @include apply-theme($theme-light);
}

// Explicit dark theme
html[data-theme='dark'],
:root[data-theme='dark'] {
  @include apply-theme($theme-dark);
}

// Landing page theme (dark variant with landing background)
html[data-theme='landing'],
:root[data-theme='landing'] {
  @include apply-theme($theme-dark);
  --bg-void: #{$bg-deep};
}

// ============================================
// PRIMENG COMPONENT LAYOUT FIXES
// ============================================
// Fix spacing, widths, and overflow issues

// Input fields should span full width of their container
.p-inputtext,
.p-textarea,
.p-select,
.p-multiselect,
.p-datepicker {
  width: 100%;
}

// Ensure form field containers don't clip content
.p-field,
[class*='p-field'] {
  overflow: visible;
}

// Slider needs extra padding to prevent handle clipping
p-slider,
.p-slider {
  display: block;
  padding: 0.75rem 0;
  margin: 0.25rem 0;
  overflow: visible;

  .p-slider-handle {
    z-index: 1;
  }
}

// Datepicker button alignment
.p-datepicker-dropdown {
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
}

// ============================================
// CHECKBOX LABEL SPACING
// ============================================
// Add gap between checkbox and its label

p-checkbox + label,
p-checkbox ~ label {
  margin-left: 0.5rem !important;
}

// ============================================
// DARK MODE OVERRIDES
// ============================================
// Fix datepicker button and panel backgrounds in dark mode

// Auto mode dark overrides
@media (prefers-color-scheme: dark) {
  html:not([data-theme]) {
    // Datepicker trigger button should match input background
    .p-datepicker-dropdown {
      background: #000000 !important;
      border-color: rgb(73, 80, 87) !important;

      .p-icon {
        color: $ember-core !important;
      }
    }

    .p-datepicker-panel {
      background: #000000 !important;
    }

    .p-datepicker-header {
      background: rgb(10, 9, 8) !important;
    }

    .p-datepicker-today > span,
    .p-datepicker-calendar td > span.p-highlight,
    .p-datepicker-calendar td.p-datepicker-today > span {
      background: $ember-core !important;
      color: #ffffff !important;
    }

    .p-select-overlay {
      background: #000000 !important;
      border-color: rgb(73, 80, 87) !important;

      .p-select-option {
        color: rgb(222, 226, 230) !important;

        &:hover,
        &.p-focus {
          background: rgb(33, 37, 41) !important;
        }

        &.p-highlight {
          background: $ember-core !important;
          color: #ffffff !important;
        }
      }
    }
  }
}

html[data-theme='dark'],
html[data-theme='landing'] {
  // Datepicker trigger button should match input background
  .p-datepicker-dropdown {
    background: #000000 !important;
    border-color: rgb(73, 80, 87) !important;

    // Calendar icon in ember color
    .p-icon {
      color: $ember-core !important;
    }
  }

  // Datepicker panel background
  .p-datepicker-panel {
    background: #000000 !important;
  }

  // Datepicker header styling
  .p-datepicker-header {
    background: rgb(10, 9, 8) !important;
  }

  // Datepicker selected/today day styling - use ember color
  .p-datepicker-today > span,
  .p-datepicker-calendar td > span.p-highlight,
  .p-datepicker-calendar td.p-datepicker-today > span {
    background: $ember-core !important;
    color: #ffffff !important;
  }

  // Select dropdown overlay styling
  .p-select-overlay {
    background: #000000 !important;
    border-color: rgb(73, 80, 87) !important;

    .p-select-option {
      color: rgb(222, 226, 230) !important;

      &:hover,
      &.p-focus {
        background: rgb(33, 37, 41) !important;
      }

      &.p-highlight {
        background: $ember-core !important;
        color: #ffffff !important;
      }
    }
  }
}
