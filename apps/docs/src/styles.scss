// ============================================
// CSS LAYER ORDER
// ============================================
// Define layer order - later layers have higher priority
// ng-doc styles are in lowest priority layer so they don't
// affect landing page or other non-docs pages
@layer ng-doc, material, app;

// ============================================
// NG-DOC STYLES (scoped to ng-doc layer)
// ============================================
@import '@ng-doc/app/styles/global.css' layer(ng-doc);
@import '@ng-doc/app/styles/themes/dark.css' layer(ng-doc);

// ============================================
// MATERIAL THEME (for docs UI only)
// ============================================
@import '@angular/material/prebuilt-themes/indigo-pink.css' layer(material);

// ============================================
// THEME-AWARE LOGO
// ============================================
// Show light logo by default
.logo-light {
  display: block !important;
}
.logo-dark {
  display: none !important;
}

// Swap to dark logo when system prefers dark (only in auto mode - no explicit theme set)
@media (prefers-color-scheme: dark) {
  html:not([data-theme]) .logo-light,
  body:not([data-theme]) .logo-light {
    display: none !important;
  }
  html:not([data-theme]) .logo-dark,
  body:not([data-theme]) .logo-dark {
    display: block !important;
  }
}

// Explicit dark theme
[data-theme='dark'] .logo-light,
html[data-theme='dark'] .logo-light,
body[data-theme='dark'] .logo-light {
  display: none !important;
}

[data-theme='dark'] .logo-dark,
html[data-theme='dark'] .logo-dark,
body[data-theme='dark'] .logo-dark {
  display: block !important;
}

// Explicit light theme
[data-theme='light'] .logo-light,
html[data-theme='light'] .logo-light,
body[data-theme='light'] .logo-light {
  display: block !important;
}

[data-theme='light'] .logo-dark,
html[data-theme='light'] .logo-dark,
body[data-theme='light'] .logo-dark {
  display: none !important;
}

// ============================================
// RESPONSIVE NAVBAR
// ============================================
// On very narrow screens, hide search and reduce spacing to make room for hamburger menu
@media (max-width: 400px) {
  ng-doc-navbar {
    // Hide the search component on very narrow screens
    ng-doc-search {
      display: none !important;
    }

    // Reduce navbar padding
    .navbar-container {
      padding-inline: calc(var(--ng-doc-base-gutter) * 1) !important;
    }
  }
}

// ============================================
// MOBILE SIDEBAR SCROLL FIX
// ============================================
// Fix sidebar scroll on iOS Safari where content gets cut off
// due to safe area insets and browser chrome
@media (max-width: 1024px) {
  ng-doc-sidebar {
    // Ensure sidebar wrapper can scroll fully on mobile
    .ng-doc-side-bar-wrapper {
      // Add padding at bottom to account for iOS safe area and ensure
      // all content is accessible when scrolling
      padding-bottom: calc(env(safe-area-inset-bottom, 0px) + 80px) !important;
    }
  }
}

// ============================================
// IFRAME EXAMPLES
// ============================================
// PrimeNG and Ionic examples are loaded via iframes
// Their styles are isolated in their respective example apps

// Hide ng-doc's built-in code viewer for iframe wrapper components
// The wrapper code is not useful - users see the actual FormConfig
// via the custom "View Config" section in ExampleIframeComponent
ng-doc-demo-displayer {
  ::ng-deep ng-doc-code,
  ::ng-deep .ng-doc-code-viewer {
    display: none !important;
  }
}

// ============================================
// LANDING PAGE SCROLLBAR & SCROLL SNAP
// ============================================
// Custom scrollbar for landing page to match the forge aesthetic
// Main page scrollbar (on html element)
html:has(app-landing) {
  scrollbar-width: thin;
  scrollbar-color: #ff4d00 #0a0908;

  &::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }

  &::-webkit-scrollbar-track {
    background: #0a0908;
  }

  &::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #ff5a15, #ff4d00);
    border-radius: 5px;
    border: 2px solid #0a0908;

    &:hover {
      background: linear-gradient(180deg, #ff6b2b, #ff5a15);
    }
  }

  &::-webkit-scrollbar-corner {
    background: #0a0908;
  }
}

// Inner scrollbars (code blocks, etc.)
body:has(app-landing) {
  ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }

  ::-webkit-scrollbar-track {
    background: #0a0908;
  }

  ::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #ff5a15, #ff4d00);
    border-radius: 5px;
    border: 2px solid #0a0908;

    &:hover {
      background: linear-gradient(180deg, #ff6b2b, #ff5a15);
    }
  }

  ::-webkit-scrollbar-corner {
    background: #0a0908;
  }
}
